<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Self-Efficacy Assessment | Chapman University</title>
    <style>
        :root {
            --chapman-blue: #00205B;
            --chapman-gold: #C4A000;
            --gold-light: #F5E6A3;
            --blue-light: #E8EDF5;
            --blue-medium: #1A3A7A;
            --text-primary: #1a1a2e;
            --text-secondary: #4a4a5a;
            --white: #ffffff;
            --mastery: #2E7D32;
            --vicarious: #1565C0;
            --persuasion: #7B1FA2;
            --arousal: #C62828;
            --shadow-subtle: 0 2px 8px rgba(0, 32, 91, 0.08);
            --shadow-medium: 0 4px 20px rgba(0, 32, 91, 0.12);
            --shadow-strong: 0 8px 32px rgba(0, 32, 91, 0.18);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', 'Roboto', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.7;
            color: var(--text-primary);
            background: linear-gradient(135deg, var(--chapman-blue) 0%, var(--blue-medium) 50%, var(--chapman-blue) 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 950px;
            margin: 0 auto;
            background: var(--white);
            border-radius: 16px;
            box-shadow: var(--shadow-strong);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, var(--chapman-blue) 0%, var(--blue-medium) 100%);
            color: var(--white);
            padding: 40px 30px;
            text-align: center;
            position: relative;
        }
        .header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--chapman-gold) 0%, var(--gold-light) 50%, var(--chapman-gold) 100%);
        }
        .institution { font-size: 0.95em; letter-spacing: 2px; text-transform: uppercase; opacity: 0.9; margin-bottom: 5px; }
        .college { font-size: 1.1em; color: var(--chapman-gold); margin-bottom: 20px; font-weight: 600; }
        h1 { font-size: 2.4em; font-weight: 700; margin-bottom: 12px; }
        .subtitle { font-size: 1.15em; font-style: italic; color: var(--gold-light); }
        .content { padding: 35px; }
        .hidden { display: none !important; }

        .intro-section {
            background: linear-gradient(135deg, var(--blue-light) 0%, #f8f9fc 100%);
            border-radius: 14px;
            padding: 30px;
            margin-bottom: 30px;
            border-left: 5px solid var(--chapman-blue);
        }
        .intro-section h2 { color: var(--chapman-blue); font-size: 1.4em; margin-bottom: 15px; }
        .intro-section p { color: var(--text-secondary); margin-bottom: 15px; }

        .sources-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            margin: 25px 0;
        }
        .source-card {
            padding: 18px 12px;
            border-radius: 12px;
            text-align: center;
            color: var(--white);
        }
        .source-card.mastery { background: linear-gradient(135deg, var(--mastery), #43A047); }
        .source-card.vicarious { background: linear-gradient(135deg, var(--vicarious), #1976D2); }
        .source-card.persuasion { background: linear-gradient(135deg, var(--persuasion), #9C27B0); }
        .source-card.arousal { background: linear-gradient(135deg, var(--arousal), #D32F2F); }
        .source-card .icon { font-size: 1.8em; margin-bottom: 6px; }
        .source-card .name { font-weight: 700; font-size: 0.75em; line-height: 1.3; }

        .quote-box {
            background: linear-gradient(135deg, #fffef8, #fef9e7);
            border-left: 5px solid var(--chapman-gold);
            padding: 25px;
            margin: 25px 0;
            border-radius: 0 12px 12px 0;
        }
        .quote-box blockquote { font-style: italic; color: var(--text-secondary); font-size: 1.05em; line-height: 1.6; }
        .quote-box cite { display: block; margin-top: 12px; color: var(--chapman-blue); font-weight: 600; font-style: normal; }

        .assessment-meta {
            display: flex; gap: 25px; margin-top: 20px; padding-top: 20px;
            border-top: 1px solid rgba(0, 32, 91, 0.1); flex-wrap: wrap;
        }
        .meta-item { display: flex; align-items: center; gap: 8px; color: var(--text-secondary); }
        .meta-icon {
            width: 28px; height: 28px; background: var(--chapman-blue); color: var(--white);
            border-radius: 6px; display: flex; align-items: center; justify-content: center; font-size: 0.85em;
        }

        .student-info { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; margin-bottom: 30px; }
        .input-group { display: flex; flex-direction: column; }
        .input-group label { font-weight: 600; margin-bottom: 8px; color: var(--chapman-blue); }
        .input-group input {
            padding: 14px 16px; border: 2px solid #e1e5eb; border-radius: 10px;
            font-size: 16px; transition: all 0.3s ease;
        }
        .input-group input:focus { outline: none; border-color: var(--chapman-blue); box-shadow: 0 0 0 4px rgba(0, 32, 91, 0.08); }

        .instructions-box {
            background: linear-gradient(135deg, #fffef8 0%, #fef9e7 100%);
            border: 2px solid var(--chapman-gold); border-radius: 12px; padding: 25px; margin-bottom: 30px;
        }
        .instructions-box h3 { color: var(--chapman-blue); margin-bottom: 15px; }
        .instructions-box p { color: var(--text-secondary); margin-bottom: 10px; }
        .scale-display {
            display: flex; justify-content: space-between; margin-top: 15px;
            padding: 15px; background: var(--blue-light); border-radius: 10px;
        }
        .scale-item { text-align: center; flex: 1; }
        .scale-number {
            display: inline-block; width: 36px; height: 36px; line-height: 36px;
            background: var(--chapman-blue); color: var(--white); border-radius: 50%; font-weight: 700; margin-bottom: 5px;
        }
        .scale-label { font-size: 0.65em; color: var(--text-secondary); }

        .progress-container { margin-bottom: 25px; }
        .progress-label { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 0.9em; color: var(--text-secondary); }
        .progress-bar { width: 100%; height: 10px; background: #e8ecf0; border-radius: 5px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--chapman-blue) 0%, var(--chapman-gold) 100%); width: 0%; transition: width 0.5s ease; }

        .question-container {
            background: var(--white); border-radius: 14px; border: 2px solid #e8ecf0;
            padding: 25px; margin-bottom: 18px; transition: all 0.3s ease;
        }
        .question-container:hover { border-color: var(--chapman-blue); box-shadow: var(--shadow-medium); }
        .question-container.answered { border-color: var(--chapman-gold); background: linear-gradient(135deg, #fffef8 0%, var(--white) 100%); }
        .question-text { font-size: 1.02em; color: var(--text-primary); margin-bottom: 18px; line-height: 1.6; }
        .question-number { color: var(--chapman-blue); font-weight: 700; margin-right: 8px; }

        .likert-scale { display: flex; justify-content: space-between; gap: 6px; }
        .likert-option { flex: 1; text-align: center; }
        .likert-option input[type="radio"] { display: none; }
        .likert-option label {
            display: flex; flex-direction: column; align-items: center; padding: 12px 6px;
            border: 2px solid #e8ecf0; border-radius: 10px; cursor: pointer; transition: all 0.3s ease; background: #fafbfc;
        }
        .likert-option label:hover { border-color: var(--chapman-blue); background: var(--blue-light); }
        .likert-option input[type="radio"]:checked + label { border-color: var(--chapman-blue); background: var(--chapman-blue); color: var(--white); }
        .likert-number { font-size: 1.2em; font-weight: 700; margin-bottom: 2px; }
        .likert-label { font-size: 0.55em; text-transform: uppercase; letter-spacing: 0.3px; }

        .controls { text-align: center; margin: 30px 0; }
        .btn {
            border: none; padding: 16px 40px; font-size: 1.05em; font-weight: 600;
            border-radius: 12px; cursor: pointer; transition: all 0.3s ease; margin: 8px;
            display: inline-flex; align-items: center; gap: 10px;
        }
        .btn-primary { background: linear-gradient(135deg, var(--chapman-blue) 0%, var(--blue-medium) 100%); color: var(--white); box-shadow: 0 4px 15px rgba(0, 32, 91, 0.3); }
        .btn-primary:hover:not(:disabled) { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(0, 32, 91, 0.4); }
        .btn-secondary { background: linear-gradient(135deg, var(--chapman-gold) 0%, #d4b000 100%); color: var(--chapman-blue); }
        .btn-secondary:hover { transform: translateY(-3px); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none !important; }
        .btn-outline { background: transparent; border: 2px solid var(--chapman-blue); color: var(--chapman-blue); }

        .results { display: none; margin-top: 30px; }
        .results-header {
            background: linear-gradient(135deg, var(--chapman-blue) 0%, var(--blue-medium) 100%);
            color: var(--white); padding: 40px; text-align: center; border-radius: 16px 16px 0 0;
        }
        .results-header h2 { font-size: 1.8em; margin-bottom: 10px; }
        .results-header .student-name { font-size: 1.3em; color: var(--chapman-gold); margin-bottom: 8px; }
        .results-header .date { opacity: 0.9; }

        .overall-score { background: linear-gradient(135deg, #34495e, #2c3e50); padding: 40px; text-align: center; }
        .score-circle {
            width: 160px; height: 160px; border-radius: 50%;
            background: conic-gradient(var(--chapman-gold) var(--pct), rgba(255,255,255,0.2) 0);
            display: flex; align-items: center; justify-content: center; margin: 0 auto 20px;
        }
        .score-inner {
            width: 130px; height: 130px; border-radius: 50%; background: #2c3e50;
            display: flex; flex-direction: column; align-items: center; justify-content: center; color: var(--white);
        }
        .score-inner .score { font-size: 2.8em; font-weight: 700; line-height: 1; }
        .score-inner .label { font-size: 0.85em; opacity: 0.9; }
        .se-level { color: var(--chapman-gold); font-size: 1.4em; font-weight: 700; margin-bottom: 10px; }
        .se-desc { color: rgba(255,255,255,0.85); font-size: 0.95em; max-width: 600px; margin: 0 auto; line-height: 1.6; }

        .results-body { background: var(--blue-light); padding: 35px; border-radius: 0 0 16px 16px; }

        .result-section {
            background: var(--white); border-radius: 14px; padding: 28px; margin-bottom: 20px;
            border-left: 5px solid var(--chapman-blue); box-shadow: var(--shadow-subtle);
        }
        .result-section.gold-accent { border-left-color: var(--chapman-gold); }
        .result-section h4 { color: var(--chapman-blue); margin-bottom: 18px; }

        .source-info {
            padding: 20px; border-radius: 12px; margin-bottom: 15px;
        }
        .source-info.mastery { background: rgba(46, 125, 50, 0.1); border-left: 4px solid var(--mastery); }
        .source-info.vicarious { background: rgba(21, 101, 192, 0.1); border-left: 4px solid var(--vicarious); }
        .source-info.persuasion { background: rgba(123, 31, 162, 0.1); border-left: 4px solid var(--persuasion); }
        .source-info.arousal { background: rgba(198, 40, 40, 0.1); border-left: 4px solid var(--arousal); }
        .source-info h5 { margin-bottom: 8px; }
        .source-info p { font-size: 0.9em; color: var(--text-secondary); margin-bottom: 8px; }
        .source-info ul { list-style: none; padding: 0; margin: 0; }
        .source-info li { padding: 5px 0 5px 20px; position: relative; font-size: 0.85em; color: var(--text-secondary); }
        .source-info li::before { content: '‚Üí'; position: absolute; left: 0; color: inherit; }

        .reflection-section {
            background: linear-gradient(135deg, var(--blue-light) 0%, #f0f4fa 100%);
            border-radius: 14px; padding: 30px; margin-top: 25px; border: 2px solid var(--chapman-blue);
        }
        .reflection-section h4 { color: var(--chapman-blue); margin-bottom: 20px; text-align: center; }
        .reflection-questions { counter-reset: reflection; }
        .reflection-question {
            padding: 18px 20px 18px 50px; position: relative; background: var(--white);
            border-radius: 10px; margin-bottom: 12px; color: var(--text-secondary);
        }
        .reflection-question::before {
            counter-increment: reflection; content: counter(reflection);
            position: absolute; left: 15px; top: 50%; transform: translateY(-50%);
            width: 26px; height: 26px; background: var(--chapman-blue); color: var(--white);
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            font-size: 0.85em; font-weight: 700;
        }

        .footer { text-align: center; padding: 25px; color: var(--text-secondary); font-size: 0.9em; border-top: 1px solid #e8ecf0; margin-top: 30px; }

        @media (max-width: 768px) {
            .sources-grid { grid-template-columns: repeat(2, 1fr); }
            .student-info { grid-template-columns: 1fr; }
            h1 { font-size: 1.8em; }
            .likert-scale { flex-wrap: wrap; }
            .likert-option { min-width: 55px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="institution">Chapman University</div>
            <div class="college">Argyros College of Business and Economics</div>
            <h1>Self-Efficacy Assessment</h1>
            <div class="subtitle">Based on Albert Bandura's Self-Efficacy Theory</div>
        </div>

        <div class="content">
            <div id="intro-section">
                <div class="intro-section">
                    <h2>üí™ How Confident Are You in Your Capabilities?</h2>
                    <p><strong>Self-efficacy</strong> is your belief in your ability to succeed in specific situations or accomplish specific tasks. According to <strong>Albert Bandura</strong>, self-efficacy is one of the most powerful predictors of performance, motivation, and achievement.</p>
                    <p>This assessment measures your General Self-Efficacy ‚Äî your broad confidence in handling challenges across life domains. Bandura identified four sources that build self-efficacy:</p>

                    <div class="sources-grid">
                        <div class="source-card mastery">
                            <div class="icon">üèÜ</div>
                            <div class="name">Mastery Experiences</div>
                        </div>
                        <div class="source-card vicarious">
                            <div class="icon">üëÄ</div>
                            <div class="name">Vicarious Experience</div>
                        </div>
                        <div class="source-card persuasion">
                            <div class="icon">üí¨</div>
                            <div class="name">Social Persuasion</div>
                        </div>
                        <div class="source-card arousal">
                            <div class="icon">üíì</div>
                            <div class="name">Emotional States</div>
                        </div>
                    </div>

                    <div class="quote-box">
                        <blockquote>"People's beliefs about their capabilities to produce effects... influence the choices they make, their aspirations, how much effort they mobilize in a given endeavor, and how long they persevere in the face of difficulties."</blockquote>
                        <cite>‚Äî Albert Bandura, Self-Efficacy: The Exercise of Control (1997)</cite>
                    </div>

                    <div class="assessment-meta">
                        <div class="meta-item"><div class="meta-icon">‚è±</div><span>5-7 minutes</span></div>
                        <div class="meta-item"><div class="meta-icon">üìù</div><span>10 self-assessment items</span></div>
                        <div class="meta-item"><div class="meta-icon">üí™</div><span>General self-efficacy</span></div>
                    </div>
                </div>

                <div class="student-info">
                    <div class="input-group">
                        <label for="studentName">Your Full Name</label>
                        <input type="text" id="studentName" placeholder="Enter your full name">
                    </div>
                    <div class="input-group">
                        <label for="testDate">Assessment Date</label>
                        <input type="date" id="testDate">
                    </div>
                </div>

                <div class="instructions-box">
                    <h3>üìå How to Complete This Assessment</h3>
                    <p>Rate each statement based on how true it is for you. Think about your general tendencies across different situations.</p>
                    <div class="scale-display">
                        <div class="scale-item"><div class="scale-number">1</div><div class="scale-label">Not At All True</div></div>
                        <div class="scale-item"><div class="scale-number">2</div><div class="scale-label">Hardly True</div></div>
                        <div class="scale-item"><div class="scale-number">3</div><div class="scale-label">Moderately True</div></div>
                        <div class="scale-item"><div class="scale-number">4</div><div class="scale-label">Exactly True</div></div>
                    </div>
                </div>

                <div class="controls">
                    <button class="btn btn-primary" onclick="startAssessment()">Begin Assessment ‚Üí</button>
                </div>
            </div>

            <div id="assessment-section" class="hidden">
                <div class="progress-container">
                    <div class="progress-label">
                        <span>Assessment Progress</span>
                        <span id="progressText">0 of 10 questions completed</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                </div>
                <div id="questions-container"></div>
                <div class="controls">
                    <button class="btn btn-primary" id="submitBtn" onclick="calculateResults()" disabled>Discover My Self-Efficacy ‚Üí</button>
                </div>
            </div>

            <div id="results" class="results"></div>

            <div id="downloadSection" class="hidden controls">
                <button class="btn btn-secondary" onclick="generatePDF()">üìÑ Download PDF Report</button>
                <button class="btn btn-outline" onclick="restartAssessment()">Take Assessment Again</button>
            </div>
        </div>

        <div class="footer">
            <p>Self-Efficacy Assessment ‚Ä¢ Based on Schwarzer & Jerusalem's General Self-Efficacy Scale</p>
            <p>Chapman University ‚Ä¢ Argyros College of Business and Economics</p>
            <p style="margin-top: 8px; font-size: 0.85em;">¬© 2024 Professor Chip Monaco ‚Ä¢ MGMT 316</p>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        // General Self-Efficacy Scale (Schwarzer & Jerusalem, 1995)
        const questions = [
            { id: 1, text: "I can always manage to solve difficult problems if I try hard enough." },
            { id: 2, text: "If someone opposes me, I can find the means and ways to get what I want." },
            { id: 3, text: "It is easy for me to stick to my aims and accomplish my goals." },
            { id: 4, text: "I am confident that I could deal efficiently with unexpected events." },
            { id: 5, text: "Thanks to my resourcefulness, I know how to handle unforeseen situations." },
            { id: 6, text: "I can solve most problems if I invest the necessary effort." },
            { id: 7, text: "I can remain calm when facing difficulties because I can rely on my coping abilities." },
            { id: 8, text: "When I am confronted with a problem, I can usually find several solutions." },
            { id: 9, text: "If I am in trouble, I can usually think of a solution." },
            { id: 10, text: "I can usually handle whatever comes my way." }
        ];

        const efficacyLevels = [
            { min: 34, max: 40, name: "Very High Self-Efficacy", desc: "You have exceptionally strong belief in your capabilities. You approach challenges with confidence, persist through obstacles, and expect to succeed." },
            { min: 28, max: 33, name: "High Self-Efficacy", desc: "You have strong confidence in your abilities. You generally believe you can handle challenges and accomplish your goals." },
            { min: 21, max: 27, name: "Moderate Self-Efficacy", desc: "You have average confidence in your capabilities. There's opportunity to strengthen your belief in yourself through targeted experiences." },
            { min: 14, max: 20, name: "Low Self-Efficacy", desc: "Your confidence in your capabilities may be limiting you. Focus on building self-efficacy through mastery experiences and positive feedback." },
            { min: 10, max: 13, name: "Very Low Self-Efficacy", desc: "Building your self-efficacy is an important priority. Start with small wins and gradually take on bigger challenges." }
        ];

        let responses = {};
        let studentName = '';
        let surveyDate = '';

        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('testDate').value = new Date().toISOString().split('T')[0];
        });

        function startAssessment() {
            studentName = document.getElementById('studentName').value.trim();
            surveyDate = document.getElementById('testDate').value;
            if (!studentName) { alert('Please enter your name.'); return; }
            if (!surveyDate) { alert('Please select a date.'); return; }
            document.getElementById('intro-section').classList.add('hidden');
            document.getElementById('assessment-section').classList.remove('hidden');
            renderQuestions();
        }

        function renderQuestions() {
            const container = document.getElementById('questions-container');
            let html = '';
            const shuffled = [...questions].sort(() => Math.random() - 0.5);
            shuffled.forEach((q, index) => {
                html += `
                    <div class="question-container" id="q-container-${q.id}">
                        <div class="question-text"><span class="question-number">${index + 1}.</span> ${q.text}</div>
                        <div class="likert-scale">
                            ${[1,2,3,4].map(val => `
                                <div class="likert-option">
                                    <input type="radio" name="q${q.id}" id="q${q.id}_${val}" value="${val}" onchange="handleResponse(${q.id}, ${val})">
                                    <label for="q${q.id}_${val}">
                                        <span class="likert-number">${val}</span>
                                        <span class="likert-label">${['Not At All', 'Hardly', 'Moderately', 'Exactly'][val-1]}</span>
                                    </label>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            });
            container.innerHTML = html;
        }

        function handleResponse(questionId, value) {
            responses[questionId] = value;
            document.getElementById(`q-container-${questionId}`).classList.add('answered');
            updateProgress();
        }

        function updateProgress() {
            const answered = Object.keys(responses).length;
            const progress = (answered / 10) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = `${answered} of 10 questions completed`;
            document.getElementById('submitBtn').disabled = answered < 10;
        }

        function calculateResults() {
            if (Object.keys(responses).length < 10) { alert('Please answer all questions.'); return; }
            const totalScore = Object.values(responses).reduce((sum, val) => sum + val, 0);
            displayResults(totalScore);
        }

        function displayResults(totalScore) {
            const maxScore = 40;
            const level = efficacyLevels.find(l => totalScore >= l.min && totalScore <= l.max) || efficacyLevels[4];
            const pct = (totalScore / maxScore) * 100;

            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = `
                <div class="results-header">
                    <h2>üí™ Your Self-Efficacy Profile</h2>
                    <div class="student-name">${studentName}</div>
                    <div class="date">Completed: ${new Date(surveyDate).toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}</div>
                </div>

                <div class="overall-score">
                    <div class="score-circle" style="--pct: ${pct}%;">
                        <div class="score-inner">
                            <div class="score">${totalScore}</div>
                            <div class="label">of ${maxScore}</div>
                        </div>
                    </div>
                    <div class="se-level">${level.name}</div>
                    <div class="se-desc">${level.desc}</div>
                </div>

                <div class="results-body">
                    <div class="result-section gold-accent">
                        <h4>üí° Understanding Self-Efficacy</h4>
                        <div style="background: linear-gradient(135deg, #fffef8, #fef9e7); padding: 20px; border-radius: 12px; border-left: 4px solid var(--chapman-gold);">
                            <p style="color: var(--text-secondary); line-height: 1.8; margin-bottom: 15px;">
                                <strong>Self-efficacy affects:</strong>
                            </p>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                                <div style="padding: 15px; background: rgba(0, 32, 91, 0.05); border-radius: 10px;">
                                    <div style="font-weight: 600; color: var(--chapman-blue); margin-bottom: 5px;">üéØ Goals You Set</div>
                                    <div style="font-size: 0.9em; color: var(--text-secondary);">Higher self-efficacy ‚Üí more ambitious goals</div>
                                </div>
                                <div style="padding: 15px; background: rgba(0, 32, 91, 0.05); border-radius: 10px;">
                                    <div style="font-weight: 600; color: var(--chapman-blue); margin-bottom: 5px;">üí™ Effort You Invest</div>
                                    <div style="font-size: 0.9em; color: var(--text-secondary);">Higher self-efficacy ‚Üí greater effort</div>
                                </div>
                                <div style="padding: 15px; background: rgba(0, 32, 91, 0.05); border-radius: 10px;">
                                    <div style="font-weight: 600; color: var(--chapman-blue); margin-bottom: 5px;">üîÑ Persistence</div>
                                    <div style="font-size: 0.9em; color: var(--text-secondary);">Higher self-efficacy ‚Üí longer perseverance</div>
                                </div>
                                <div style="padding: 15px; background: rgba(0, 32, 91, 0.05); border-radius: 10px;">
                                    <div style="font-weight: 600; color: var(--chapman-blue); margin-bottom: 5px;">üòå Stress Response</div>
                                    <div style="font-size: 0.9em; color: var(--text-secondary);">Higher self-efficacy ‚Üí less anxiety</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="result-section">
                        <h4>üîß Bandura's Four Sources of Self-Efficacy</h4>
                        <div class="source-info mastery">
                            <h5 style="color: var(--mastery);">üèÜ 1. Mastery Experiences (Most Powerful)</h5>
                            <p>Personal successes build robust belief in your capabilities; failures undermine it.</p>
                            <ul>
                                <li style="color: var(--mastery);">Set challenging but achievable goals</li>
                                <li style="color: var(--mastery);">Break big goals into smaller wins</li>
                                <li style="color: var(--mastery);">Reflect on and celebrate your successes</li>
                            </ul>
                        </div>
                        <div class="source-info vicarious">
                            <h5 style="color: var(--vicarious);">üëÄ 2. Vicarious Experience</h5>
                            <p>Seeing people similar to yourself succeed raises your belief that you can too.</p>
                            <ul>
                                <li style="color: var(--vicarious);">Find role models who've achieved similar goals</li>
                                <li style="color: var(--vicarious);">Observe their strategies and approaches</li>
                                <li style="color: var(--vicarious);">Seek mentors who can guide your development</li>
                            </ul>
                        </div>
                        <div class="source-info persuasion">
                            <h5 style="color: var(--persuasion);">üí¨ 3. Social Persuasion</h5>
                            <p>Encouragement from credible others can strengthen your self-belief.</p>
                            <ul>
                                <li style="color: var(--persuasion);">Seek feedback from people you respect</li>
                                <li style="color: var(--persuasion);">Accept compliments and positive feedback</li>
                                <li style="color: var(--persuasion);">Surround yourself with supportive people</li>
                            </ul>
                        </div>
                        <div class="source-info arousal">
                            <h5 style="color: var(--arousal);">üíì 4. Emotional & Physiological States</h5>
                            <p>Positive mood and physical wellbeing enhance self-efficacy; stress undermines it.</p>
                            <ul>
                                <li style="color: var(--arousal);">Manage stress through healthy practices</li>
                                <li style="color: var(--arousal);">Reinterpret anxiety as excitement</li>
                                <li style="color: var(--arousal);">Maintain physical health and energy</li>
                            </ul>
                        </div>
                    </div>

                    <div class="reflection-section">
                        <h4>ü§î Reflection Questions</h4>
                        <div class="reflection-questions">
                            <div class="reflection-question">What recent success has boosted your confidence in your abilities?</div>
                            <div class="reflection-question">Who serves as a role model for what you want to achieve? What can you learn from them?</div>
                            <div class="reflection-question">Whose encouragement means the most to you? How can you seek more of it?</div>
                            <div class="reflection-question">How do stress and anxiety affect your confidence? What helps you manage them?</div>
                            <div class="reflection-question">In what specific area would you most like to build your self-efficacy?</div>
                            <div class="reflection-question">As a future manager, how will you build self-efficacy in your team members?</div>
                        </div>
                    </div>
                </div>
            `;

            document.getElementById('assessment-section').classList.add('hidden');
            resultsDiv.style.display = 'block';
            document.getElementById('downloadSection').classList.remove('hidden');
            resultsDiv.scrollIntoView({ behavior: 'smooth' });
            window.seResults = { totalScore, level };
        }

        function generatePDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            const { totalScore, level } = window.seResults;

            const chapmanBlue = [0, 32, 91];
            const chapmanGold = [196, 160, 0];
            const textDark = [26, 26, 46];
            const textMuted = [100, 100, 110];

            doc.setFillColor(...chapmanBlue);
            doc.rect(0, 0, 210, 45, 'F');
            doc.setFontSize(10);
            doc.setTextColor(255, 255, 255);
            doc.text('CHAPMAN UNIVERSITY', 105, 12, { align: 'center' });
            doc.setFontSize(9);
            doc.setTextColor(...chapmanGold);
            doc.text('Argyros College of Business and Economics', 105, 18, { align: 'center' });
            doc.setFontSize(18);
            doc.setTextColor(255, 255, 255);
            doc.text('Self-Efficacy Assessment', 105, 30, { align: 'center' });
            doc.setFontSize(10);
            doc.text("Based on Bandura's Self-Efficacy Theory", 105, 38, { align: 'center' });
            doc.setFillColor(...chapmanGold);
            doc.rect(0, 45, 210, 2, 'F');

            let y = 55;
            doc.setFontSize(11);
            doc.setTextColor(...textDark);
            doc.text(`Student: ${studentName}`, 20, y);
            doc.text(`Date: ${new Date(surveyDate).toLocaleDateString()}`, 120, y);
            y += 12;

            doc.setFillColor(...chapmanBlue);
            doc.roundedRect(20, y, 170, 20, 3, 3, 'F');
            doc.setFontSize(14);
            doc.setTextColor(255, 255, 255);
            doc.text(`SELF-EFFICACY: ${totalScore}/40 - ${level.name}`, 105, y + 13, { align: 'center' });
            y += 28;

            doc.setFontSize(9);
            doc.setTextColor(...textDark);
            const descLines = doc.splitTextToSize(level.desc, 170);
            descLines.forEach(line => { doc.text(line, 20, y); y += 5; });
            y += 10;

            doc.setFontSize(11);
            doc.setTextColor(...chapmanBlue);
            doc.text("Bandura's Four Sources of Self-Efficacy:", 20, y);
            y += 8;
            doc.setFontSize(9);
            doc.setTextColor(...textDark);
            ['1. Mastery Experiences - Personal successes build belief', '2. Vicarious Experience - Seeing similar others succeed', '3. Social Persuasion - Encouragement from credible others', '4. Emotional States - Positive mood enhances efficacy'].forEach(s => {
                doc.text(`‚Ä¢ ${s}`, 25, y); y += 6;
            });
            y += 10;

            doc.setFillColor(...chapmanBlue);
            doc.roundedRect(20, y, 170, 10, 2, 2, 'F');
            doc.setFontSize(10);
            doc.setTextColor(255, 255, 255);
            doc.text('REFLECTION QUESTIONS', 105, y + 7, { align: 'center' });
            y += 18;

            const reflectionQs = ['What recent success has boosted your confidence?', 'Who serves as a role model for what you want to achieve?', 'In what area would you most like to build self-efficacy?', 'How will you build self-efficacy in your future team?'];
            doc.setFontSize(9);
            doc.setTextColor(...textDark);
            reflectionQs.forEach((q, i) => {
                const lines = doc.splitTextToSize(`${i + 1}. ${q}`, 165);
                lines.forEach(line => { doc.text(line, 25, y); y += 5; });
                y += 4;
            });

            doc.setFontSize(8);
            doc.setTextColor(...textMuted);
            doc.text('Page 1 of 1', 105, 287, { align: 'center' });
            doc.text('Chapman University ‚Ä¢ Argyros College of Business and Economics ‚Ä¢ MGMT 316', 105, 292, { align: 'center' });

            doc.save(`Self_Efficacy_Assessment_${studentName.replace(/\s+/g, '_')}_${new Date().toISOString().split('T')[0]}.pdf`);
        }

        function restartAssessment() {
            responses = {};
            document.getElementById('studentName').value = '';
            document.getElementById('testDate').value = new Date().toISOString().split('T')[0];
            document.getElementById('results').style.display = 'none';
            document.getElementById('assessment-section').classList.add('hidden');
            document.getElementById('downloadSection').classList.add('hidden');
            document.getElementById('intro-section').classList.remove('hidden');
            document.getElementById('progressFill').style.width = '0%';
            window.scrollTo(0, 0);
        }
    </script>
</body>
</html>
